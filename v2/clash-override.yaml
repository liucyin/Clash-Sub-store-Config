# Mihomo 覆写配置文件
# 使用方法：在订阅转换时或客户端设置中指定此文件作为覆写配置

# 通用配置
mode: rule
ipv6: true
mixed-port: 7890
allow-lan: true
bind-address: 0.0.0.0
log-level: error
unified-delay: true
find-process-mode: strict
global-client-fingerprint: chrome

# 规则选择缓存
profile:
  store-selected: true
  store-fake-ip: true

tcp-concurrent: true
keep-alive-interval: 15
keep-alive-idle: 15
disable-keep-alive: true

# DNS 配置
dns:
  enable: true
  ipv6: true
  prefer-h3: false
  use-hosts: false
  use-system-hosts: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "+.lan"
    - "+.local"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "localhost.ptlogin2.qq.com"
    - "localhost.sec.qq.com"
    - "localhost.work.weixin.qq.com"
    - "market.xiaomi.com"
    - "*.xiaomi.com"
    - "*.mi.com"
    - "*.miui.com"
    - "*.xiaomi.net"
    - "*.mi.net"
    - "*.miui.net"
    - "*.pcbeta.com"
  default-nameserver:
    - tls://223.5.5.5
    - tls://119.29.29.29
  nameserver:
    - https://1.1.1.1/dns-query
    - https://dns.google.com/dns-query
  proxy-server-nameserver:
    - https://doh.pub/dns-query
  direct-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query

# GEO 配置
geodata-mode: true
geo-auto-update: true
geo-update-interval: 24
geodata-loader: memconservative
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
  asn: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/GeoLite2-ASN.mmdb"

# 时间同步
ntp:
  enable: true
  write-to-system: false
  server: ntp1.aliyun.com
  port: 123
  interval: 30

# 入站配置
tun:
  enable: false
  stack: mixed
  auto-route: true
  auto-redirect: false
  auto-detect-interface: true
  dns-hijack:
    - any:53
    - tcp://any:53
  route-exclude-address: []
  mtu: 1500

# 嗅探配置
sniffer:
  enable: false
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    TLS:
      ports:
        - 443
        - 8443
    HTTP:
      ports:
        - 80
        - 8080-8880
      override-destination: true
    QUIC:
      ports:
        - 443
        - 8443
  force-domain: []
  skip-domain:
    - +.oray.com
    - "Mijia Cloud"
    - "+.push.apple.com"

# 面板设置
external-controller: 127.0.0.1:9090
secret: ""
external-ui: "./ui"
external-ui-name: zashboard
external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

# 代理组锚点
# 时延优选参数 [每 6 秒一次惰性健康检查，容差 20ms，时延超过 2 秒判定为失败，失败 3 次则自动触发健康检查]
UrlTest: &UrlTest
  type: url-test
  interval: 6
  tolerance: 20
  lazy: true
  url: 'http://www.google.com/blank.html'
  disable-udp: false
  timeout: 2000
  max-failed-times: 3
  hidden: true
  include-all: true

# 故障转移参数 [每 6 秒一次惰性健康检查，时延超过 2 秒判定为失败，失败 3 次则自动触发健康检查]
FallBack: &FallBack
  type: fallback
  interval: 6
  lazy: true
  url: 'http://www.google.com/blank.html'
  disable-udp: false
  timeout: 2000
  max-failed-times: 3
  hidden: true
  include-all: true

# 负载均衡参数 [每 6 秒一次惰性健康检查，时延超过 2 秒判定为失败，失败 3 次则自动触发健康检查]
LoadBalance: &LoadBalance
  type: load-balance
  interval: 6
  lazy: true
  url: 'http://www.google.com/blank.html'
  disable-udp: false
  strategy: consistent-hashing
  timeout: 2000
  max-failed-times: 3
  hidden: true
  include-all: true

Select: &Select
  type: select
  disable-udp: false

# 代理组配置
proxy-groups:
  # 手动选择 - 引用所有订阅节点
  - name: 手动选择
    type: select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Rocket.png
    include-all: true
    proxies:
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  # 自动选择 - 自动测速选择最快节点
  - name: 自动选择
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png

  # 应用分组
  - name: GLOBAL
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Apple
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: BiliBili
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/bilibili_4.png
    include-all: true
    proxies:
      - DIRECT
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - REJECT

  - name: Claude
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/wanswu/my-backup@main/IconSet/AI/Claude.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Disney
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Disney.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Emby
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Emby.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Gemini
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/guaishouxiaoqi/icons@master/Color/Gemini.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Perplexity
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Github
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/GitHub.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Google
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Microsoft
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Netflix
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: OpenAI
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ChatGPT.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: OneDrive
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/OneDrive.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Steam
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Spotify
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: TikTok
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
    include-all: true
    proxies:
      - 台湾
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Telegram
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: Twitter
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Twitter.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: YouTube
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: 漏网之鱼
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
    include-all: true
    proxies:
      - 手动选择
      - 自动选择
      - 香港
      - 澳门
      - 台湾
      - 日本
      - 韩国
      - 美国
      - 英国
      - 德国
      - 法国
      - 印度
      - 新加坡
      - 印尼
      - 越南
      - 泰国
      - 澳洲
      - 巴西
      - 其他
      - DIRECT
      - REJECT

  - name: 直连
    <<: *Select
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
    proxies:
      - DIRECT
      - REJECT

  # 地区分组 - 自动从订阅中筛选对应地区节点
  - name: 香港
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
    filter: '🇭🇰|香港|港|HK|hongkong|hong kong'

  - name: 澳门
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Macao.png
    filter: '🇲🇴|澳门|门|MO|macao'

  - name: 台湾
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
    filter: '🇹🇼|台湾|台|TW|taiwan|taipei'

  - name: 日本
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
    filter: '🇯🇵|日本|JP|japan|tokyo|osaka'

  - name: 韩国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
    filter: '🇰🇷|韩国|韩|KR|korea|seoul'

  - name: 美国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
    filter: '🇺🇸|美国|美|US|united states|america|los angeles|san jose|silicon valley'

  - name: 英国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_Kingdom.png
    filter: '🇬🇧|英国|英|UK|united kingdom|london'

  - name: 德国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Germany.png
    filter: '🇩🇪|德国|德|DE|germany|frankfurt'

  - name: 法国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/France.png
    filter: '🇫🇷|法国|法|FR|france|paris'

  - name: 印度
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/India.png
    filter: '🇮🇳|印度|IN|india|mumbai'

  - name: 新加坡
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
    filter: '🇸🇬|新加坡|新|SG|singapore'

  - name: 印尼
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/wanswu/my-backup@master/IconSet/Country/Indonesia.png
    filter: '🇮🇩|印尼|印度尼西亚|ID|indonesia|jakarta'

  - name: 越南
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/wanswu/my-backup@master/IconSet/Country/Vietnam.png
    filter: '🇻🇳|越南|VN|vietnam'

  - name: 泰国
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Thailand.png
    filter: '🇹🇭|泰国|TH|thailand|bangkok'

  - name: 澳洲
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Australia.png
    filter: '🇦🇺|澳大利亚|AU|australia|sydney'

  - name: 巴西
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Brazil.png
    filter: '🇧🇷|巴西|brazil'

  - name: 其他
    <<: *UrlTest
    icon: https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
    filter: '(?i)^(?!.*(香港|台湾|日本|韩国|新加坡|美国|英国|德国|法国|印度|泰国|越南|印尼|澳大利亚|巴西|港|台|日|韩|新|美|英|德|法|印|泰|越|尼|澳|巴|hk|tw|jp|kr|sg|us|uk|de|fr|in|th|vn|id|au|br)).*'

# 规则锚点 [每小时更新一次订阅规则，更新规则时使用直连策略]
RuleProviders: &RuleProviders
  type: http
  behavior: classical
  interval: 3600
  format: yaml
  proxy: DIRECT

# 规则提供者
rule-providers:
  Apple:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Apple/Apple_Classical.yaml
  BiliBili:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/BiliBili/BiliBili.yaml
  China:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/China/China_Classical_No_Resolve.yaml
  Claude:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Claude/Claude.yaml
  Disney:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Disney/Disney.yaml
  Emby:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Emby/Emby.yaml
  Gemini:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Gemini/Gemini.yaml
  Github:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml
  Google:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml
  Hijacking:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Hijacking/Hijacking.yaml
  Lan:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Lan/Lan_No_Resolve.yaml
  Microsoft:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Microsoft/Microsoft.yaml
  Netflix:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix.yaml
  OpenAI:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml
  OneDrive:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OneDrive/OneDrive.yaml
  Steam:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Steam/Steam.yaml
  Spotify:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Spotify/Spotify.yaml
  TikTok:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/TikTok/TikTok.yaml
  Twitter:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml
  Telegram:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Telegram/Telegram.yaml
  YouTube:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTube/YouTube.yaml
  DNSLeak:
    <<: *RuleProviders
    url: https://testingcf.jsdelivr.net/gh/wanswu/my-backup@master/clash/rule/DNSLeak.yaml

# 路由规则
rules:
  # 拒绝规则 - 最高优先级
  - DOMAIN-SUFFIX,account.listary.com,REJECT
  - DOMAIN-SUFFIX,auth.listary.com,REJECT
  - DOMAIN-SUFFIX,api.getfiddler.com,REJECT
  
  # 自定义规则 - 优先级最高
  - DOMAIN-SUFFIX,grok.com,手动选择
  - DOMAIN-SUFFIX,windows.net,手动选择
  - DOMAIN-SUFFIX,linux.do,直连
  - DOMAIN-SUFFIX,portal101.cn,直连
  - DOMAIN-SUFFIX,javasec.org,直连
  
  # Perplexity 域名规则
  - DOMAIN-SUFFIX,perplexity.ai,Perplexity
  - DOMAIN-SUFFIX,pplx.ai,Perplexity
  - DOMAIN-KEYWORD,perplexity,Perplexity
  
  # 进程规则
  - PROCESS-NAME,prl_naptd,漏网之鱼
  
  # 规则集匹配
  - RULE-SET,Lan,直连,no-resolve
  - RULE-SET,DNSLeak,手动选择
  - RULE-SET,China,直连,no-resolve
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Gemini,Gemini
  - RULE-SET,Google,Google
  - RULE-SET,Github,Github
  - RULE-SET,YouTube,YouTube
  - RULE-SET,BiliBili,BiliBili
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,OneDrive,OneDrive
  - RULE-SET,TikTok,TikTok
  - RULE-SET,Spotify,Spotify
  - RULE-SET,Netflix,Netflix
  - RULE-SET,Disney,Disney
  - RULE-SET,OpenAI,OpenAI
  - RULE-SET,Twitter,Twitter
  - RULE-SET,Claude,Claude
  - RULE-SET,Steam,Steam
  - RULE-SET,Emby,Emby
  - RULE-SET,Hijacking,DIRECT
  
  # 兜底规则
  - MATCH,漏网之鱼

